<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login | Spotify Clone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      body {
        font-family: "Inter", sans-serif;
        background: #111827;
        min-height: 100vh;
        color: #fff;
      }
      .form-container {
        backdrop-filter: blur(10px);
        background: rgba(24, 24, 27, 0.95);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 25px 45px rgba(0, 0, 0, 0.3);
      }
      .input-focus {
        transition: all 0.3s ease;
      }
      .input-focus:focus {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
      .btn-primary {
        background: linear-gradient(135deg, #1db954 0%, #191414 100%);
        transition: all 0.3s ease;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 35px rgba(30, 215, 96, 0.2);
      }
      .glass-nav {
        backdrop-filter: blur(10px);
        background: rgba(31, 41, 55, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col">
    <header class="relative z-10">
      <div class="main-content flex flex-col">
        <div class="glass-nav h-20 flex items-center justify-between px-6 rounded-xl m-4 shadow-lg">
          <div class="flex justify-between items-center mb-2">
            <img
              class="invert-filter w-15 h-8"
              src="/img/logo.svg"
              alt="Spotify Logo"
            />
          </div>
          <a href="/" class="back-button text-white hover:text-gray-300 transition-all duration-300 px-4 py-2 rounded-lg hover:bg-gray-800/50 hover:shadow-lg group">
            <span class="back-arrow inline-block">← Back to Home </span>
          </a>
        </div>
      </div>
    </header>

    <main class="flex-grow flex items-center justify-center px-4 py-8">
      <div class="form-container rounded-2xl p-8 w-full max-w-md">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-200 mb-2">
            Welcome Back
          </h2>
          <p class="text-gray-600">Login to your account</p>
        </div>

        <form action="/login" method="POST" class="space-y-6">
          <% if(typeof errorMessage != 'undefined' && errorMessage && errorMessage.length > 0 ) { %>
          <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-xl shadow-sm">
            <div class="flex">
              <div class="flex-shrink-0">
                <svg
                  class="h-5 w-5 text-red-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div class="ml-3">
                <h3 class="text-sm font-medium text-red-800 mb-2">
                  Please fix the following errors:
                </h3>
                <ul class="text-sm text-red-700 space-y-1 list-none">
                  <% errorMessage.forEach(error => { %>
                  <li class="flex items-start">
                    <span
                      class="inline-block w-1.5 h-1.5 bg-red-400 rounded-full mt-1.5 mr-2 flex-shrink-0"
                    ></span>
                    <span class="leading-relaxed"><%= error %></span>
                  </li>
                  <% }); %>
                </ul>
              </div>
            </div>
          </div>
          <% } %>

          <!-- Email -->
          <div>
            <label class="block mb-2 text-white font-semibold text-sm">
              Email Address
            </label>
            <input
              type="email"
              name="email"
              value="<%= oldInput && oldInput.email ? oldInput.email : '' %>"
              required
              class="input-focus w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white bg-opacity-80"
              placeholder="you@example.com"
            />
          </div>

          <!-- Password -->
          <div>
            <label class="block mb-2 text-white font-semibold text-sm">
              Password
            </label>
            <input
              type="password"
              name="password"
              required
              class="input-focus w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white bg-opacity-80"
              placeholder="••••••••"
            />
          </div>

          <!-- Remember Me -->
          <div class="flex items-center space-x-2">
            <input
              type="checkbox"
              name="remember"
              class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"
            />
            <label class="text-sm text-white leading-relaxed">
              Remember me
            </label>
          </div>

          <!-- Submit -->
          <div class="pt-4">
            <button
              type="submit"
              class="btn-primary w-full text-white font-semibold py-3 px-6 rounded-xl shadow-lg"
            >
              Login
            </button>
          </div>

          <!-- Link to sign up -->
          <p class="text-sm text-center text-gray-600 mt-6">
            Don't have an account?
            <a href="/sign-up" class="text-purple-600 hover:text-purple-800 hover:underline font-medium">
              Sign up here
            </a>
          </p>
        </form>
      </div>
    </main>
  </body>